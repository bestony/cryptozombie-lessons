---
title: ì¢€ë¹„ ë°°í‹€ê·¸ë¼ìš´ë“œ ì»¤ìŠ¤í…€ ê²Œì„ ëª¨ë“œì˜ ê¸°ì´ˆ
actions: ["checkAnswer", "hints"]
requireLogin: false
material:
  editor:
    language: solidity
    startingCode:
      "examplegame.sol": |
        pragma solidity 0.4.25;

        import "./ZB/ZBGameMode.sol";

        contract ExampleGame is ZBGameMode  {

            // ì—¬ê¸°ì„œ ì‹œì‘í•˜ê²Œ

        }
      "ZBGameMode.sol": |
        // This file is here for your reference, but doesn't contain all the imports necessary
        // to compile. You can find a repo with all the final files at:
        // https://github.com/loomnetwork/zb_game_mode

        pragma solidity ^0.4.25;

        import "./ZBEnum.sol";
        import "./ZBSerializer.sol";

        contract ZBGameMode {
            using ZBSerializer for ZBSerializer.SerializedGameStateChanges;
            using ZBSerializer for GameState;

            enum Player {
                Player1,
                Player2
            }

            struct PlayerState {
                string id;
                //PlayerActionType currentAction = 2;
                //OverlordInstance overlordInstance = 3;
                CardInstance[] cardsInHand;
                //CardInstance[] CardsInPlay;
                CardInstance[] cardsInDeck;
                Deck deck;
                uint8 defense;
                uint8 currentGoo;
                uint8 gooVials;
                uint32 turnTime;
                //bool hasDrawnCard = 11;
                //repeated CardInstance cardsInGraveyard = 12;
                uint8 initialCardsInHandCount;
                uint8 maxCardsInPlay;
                uint8 maxCardsInHand;
                uint8 maxGooVials;
            }

            struct Deck {
                int64 id;
                string name;
                int64 heroId;
            }

            struct CardInstance {
                int32 instanceId;
                string mouldName;
                int32 defense;
                bool defenseInherited;
                int32 attack;
                bool attackInherited;
                int32 gooCost;
                bool gooCostInherited;
            }

            struct GameState {
                int64 id;
                uint8 currentPlayerIndex;
                PlayerState[] playerStates;
            }

            struct Vector2Int {
                int32 x;
                int32 y;
            }

            struct Rect {
                Vector2Int position;
                Vector2Int size;
            }

            struct CustomUiLabel {
                Rect rect;
                string text;
            }

            struct CustomUiButton {
                Rect rect;
                string title;
                bytes onClickCallData;
            }

            event GameStateChanges (
                bytes serializedChanges
            );

            function getInterfaceVersion() external pure returns (int) {
                return 1;
            }

            function getDataStructureVersion() external pure returns (int) {
                return 1;
            }

            function beforeMatchStart(bytes) external {
            }

            function afterInitialDraw(bytes) external {
            }

            function getCustomUi() external view returns (bytes) {
                return new bytes(0);
            }
        }
      "ZBSerializer.sol": |
        // This file is here for your reference, but doesn't contain all the imports necessary
        // to compile. You can find a repo with all the final files at:
        // https://github.com/loomnetwork/zb_game_mode

        pragma solidity ^0.4.25;

        import "./ZBEnum.sol";
        import "./ZBGameMode.sol";
        import "./SerialityBinaryStream.sol";

        library ZBSerializer {
            using SerialityBinaryStream for SerialityBinaryStream.BinaryStream;
            uint constant defaultSerializedGameStateChangesBufferSize = 512;
            uint constant defaultSerializedCustomUiBufferSize = 512;

            event GameStateChanges (
                bytes serializedChanges
            );

            struct SerializedGameStateChanges {
                SerialityBinaryStream.BinaryStream stream;
            }

            struct SerializedCustomUi {
                SerialityBinaryStream.BinaryStream stream;
            }

            // GameState deserialization

            function init(ZBGameMode.GameState memory self, bytes serializedGameState) internal pure {
                SerialityBinaryStream.BinaryStream memory stream =
                    SerialityBinaryStream.BinaryStream(serializedGameState, serializedGameState.length);

                self.id = stream.readInt64();
                self.currentPlayerIndex = stream.readUint8();

                self.playerStates = new ZBGameMode.PlayerState[](2);
                for (uint i = 0; i < self.playerStates.length; i++) {
                    self.playerStates[i] = deserializePlayerState(stream);
                }
            }

            function deserializePlayerState(SerialityBinaryStream.BinaryStream memory stream) private pure returns (ZBGameMode.PlayerState) {
                ZBGameMode.PlayerState memory player;

                player.id = stream.readString();
                player.deck = deserializeDeck(stream);
                player.cardsInHand = deserializeCardInstanceArray(stream);
                player.cardsInDeck = deserializeCardInstanceArray(stream);
                player.defense = stream.readUint8();
                player.currentGoo = stream.readUint8();
                player.gooVials = stream.readUint8();
                player.turnTime = stream.readUint32();
                player.initialCardsInHandCount = stream.readUint8();
                player.maxCardsInPlay = stream.readUint8();
                player.maxCardsInHand = stream.readUint8();
                player.maxGooVials = stream.readUint8();

                return player;
            }

            function serializeCardInstance(SerialityBinaryStream.BinaryStream memory stream, ZBGameMode.CardInstance card) private pure {
                stream.writeInt32(card.instanceId);
                stream.writeString(card.mouldName);
                stream.writeInt32(card.defense);
                stream.writeBool(card.attackInherited);
                stream.writeInt32(card.attack);
                stream.writeBool(card.defenseInherited);
                stream.writeInt32(card.gooCost);
                stream.writeBool(card.gooCostInherited);
            }

            function deserializeCardInstance(SerialityBinaryStream.BinaryStream memory stream) private pure returns (ZBGameMode.CardInstance) {
                ZBGameMode.CardInstance memory card;

                card.instanceId = stream.readInt32();
                card.mouldName = stream.readString();
                card.defense = stream.readInt32();
                card.defenseInherited = stream.readBool();
                card.attack = stream.readInt32();
                card.attackInherited = stream.readBool();
                card.gooCost = stream.readInt32();
                card.gooCostInherited = stream.readBool();

                return card;
            }

            function serializeCardInstanceArray(SerialityBinaryStream.BinaryStream memory stream, ZBGameMode.CardInstance[] cards) internal pure {
                stream.writeUint32(uint32(cards.length));

                for (uint i = 0; i < cards.length; i++) {
                    serializeCardInstance(stream, cards[i]);
                }
            }

            function deserializeCardInstanceArray(SerialityBinaryStream.BinaryStream memory stream) private pure returns (ZBGameMode.CardInstance[]) {
                uint count = stream.readUint32();

                ZBGameMode.CardInstance[] memory cards = new ZBGameMode.CardInstance[](count);
                for (uint i = 0; i < count; i++) {
                    cards[i] = deserializeCardInstance(stream);
                }

                return cards;
            }

            function deserializeDeck(SerialityBinaryStream.BinaryStream memory stream) private pure returns (ZBGameMode.Deck) {
                ZBGameMode.Deck memory deck;
                deck.id = stream.readInt64();
                deck.name = stream.readString();
                deck.heroId = stream.readInt64();

                return deck;
            }

            function serializeStartGameStateChangeAction(
                SerialityBinaryStream.BinaryStream memory stream,
                ZBEnum.GameStateChangeAction action
                ) private pure {
                stream.writeUint32(uint32(action));
            }

            function serializeStartGameStateChangeAction(
                SerialityBinaryStream.BinaryStream memory stream,
                ZBEnum.GameStateChangeAction action,
                ZBGameMode.Player player
                ) private pure {
                stream.writeUint32(uint32(action));
                stream.writeUint8(uint8(player));
            }

            // CardInstance

            function changeMouldName(ZBGameMode.CardInstance memory self, string mouldName) internal pure {
                self.mouldName = mouldName;
            }

            function changeDefense(ZBGameMode.CardInstance memory self, uint8 defense) internal pure {
                self.defense = defense;
                self.defenseInherited = false;
            }

            function changeAttack(ZBGameMode.CardInstance memory self, uint8 attack) internal pure {
                self.attack = attack;
                self.attackInherited = false;
            }

            function changeGooCost(ZBGameMode.CardInstance memory self, uint8 gooCost) internal pure {
                self.gooCost = gooCost;
                self.gooCostInherited = false;
            }

            // SerializedGameStateChanges

            function init(SerializedGameStateChanges memory self) internal pure {
                init(self, defaultSerializedGameStateChangesBufferSize);
            }

            function init(SerializedGameStateChanges memory self, uint bufferSize) internal pure {
                self.stream = SerialityBinaryStream.BinaryStream(new bytes(bufferSize), bufferSize);
            }

            function getBytes(SerializedGameStateChanges memory self) internal pure returns (bytes) {
                return self.stream.buffer;
            }

            function emit(SerializedGameStateChanges memory self) internal {
                emit GameStateChanges(getBytes(self));
            }

            function changePlayerDefense(SerializedGameStateChanges memory self, ZBGameMode.Player player, uint8 defense) internal pure returns (uint) {
                SerialityBinaryStream.BinaryStream memory stream = self.stream;

                serializeStartGameStateChangeAction(stream, ZBEnum.GameStateChangeAction.SetPlayerDefense, player);
                stream.writeUint8(uint8(defense));
            }

            function changePlayerCurrentGoo(SerializedGameStateChanges memory self, ZBGameMode.Player player, uint8 currentGoo) internal pure {
                SerialityBinaryStream.BinaryStream memory stream = self.stream;

                serializeStartGameStateChangeAction(stream, ZBEnum.GameStateChangeAction.SetPlayerCurrentGoo, player);
                stream.writeUint8(uint8(currentGoo));
            }

            function changePlayerCurrentGooVials(SerializedGameStateChanges memory self, ZBGameMode.Player player, uint8 gooVials) internal pure {
                SerialityBinaryStream.BinaryStream memory stream = self.stream;

                serializeStartGameStateChangeAction(stream, ZBEnum.GameStateChangeAction.SetPlayerGooVials, player);
                stream.writeUint8(uint8(gooVials));
            }

            function changePlayerCardsInDeck(
                SerializedGameStateChanges memory self,
                ZBGameMode.Player player,
                ZBGameMode.CardInstance[] cards,
                uint cardCount
                ) internal pure {
                require(
                    cardCount <= cards.length,
                    "cardCount > cards.length"
                );

                SerialityBinaryStream.BinaryStream memory stream = self.stream;

                serializeStartGameStateChangeAction(stream, ZBEnum.GameStateChangeAction.SetPlayerCardsInDeck, player);
                stream.writeUint32(uint32(cardCount));

                for (uint i = 0; i < cardCount; i++) {
                    serializeCardInstance(stream, cards[i]);
                }
            }

            function changePlayerCardsInDeck(
                SerializedGameStateChanges memory self,
                ZBGameMode.Player player,
                ZBGameMode.CardInstance[] cards
                ) internal pure {
                changePlayerCardsInDeck(self, player, cards, cards.length);
            }

            function changePlayerCardsInHand(
                SerializedGameStateChanges memory self,
                ZBGameMode.Player player,
                ZBGameMode.CardInstance[] cards,
                uint cardCount
                ) internal pure {
                require(
                    cardCount <= cards.length,
                    "cardCount > cards.length"
                );

                SerialityBinaryStream.BinaryStream memory stream = self.stream;

                serializeStartGameStateChangeAction(stream, ZBEnum.GameStateChangeAction.SetPlayerCardsInHand, player);
                stream.writeUint32(uint32(cardCount));

                for (uint i = 0; i < cardCount; i++) {
                    serializeCardInstance(stream, cards[i]);
                }
            }

            function changePlayerCardsInHand(
                SerializedGameStateChanges memory self,
                ZBGameMode.Player player,
                ZBGameMode.CardInstance[] cards
                ) internal pure {
                changePlayerCardsInHand(self, player, cards, cards.length);
            }

            function changePlayerInitialCardsInHandCount(SerializedGameStateChanges memory self, ZBGameMode.Player player, uint8 count) internal pure {
                SerialityBinaryStream.BinaryStream memory stream = self.stream;

                serializeStartGameStateChangeAction(stream, ZBEnum.GameStateChangeAction.SetPlayerInitialCardsInHandCount, player);
                stream.writeUint8(count);
            }

            function changePlayerMaxCardsInPlay(SerializedGameStateChanges memory self, ZBGameMode.Player player, uint8 count) internal pure {
                SerialityBinaryStream.BinaryStream memory stream = self.stream;

                serializeStartGameStateChangeAction(stream, ZBEnum.GameStateChangeAction.SetPlayerMaxCardsInPlay, player);
                stream.writeUint8(count);
            }

            function changePlayerMaxCardsInHand(SerializedGameStateChanges memory self, ZBGameMode.Player player, uint8 count) internal pure {
                SerialityBinaryStream.BinaryStream memory stream = self.stream;

                serializeStartGameStateChangeAction(stream, ZBEnum.GameStateChangeAction.SetPlayerMaxCardsInHand, player);
                stream.writeUint8(count);
            }

            function changePlayerMaxGooVials(SerializedGameStateChanges memory self, ZBGameMode.Player player, uint8 count) internal pure {
                SerialityBinaryStream.BinaryStream memory stream = self.stream;

                serializeStartGameStateChangeAction(stream, ZBEnum.GameStateChangeAction.SetPlayerMaxGooVials, player);
                stream.writeUint8(count);
            }

            function changePlayerTurnTime(SerializedGameStateChanges memory self, ZBGameMode.Player player, uint32 turnTime) internal pure {
                SerialityBinaryStream.BinaryStream memory stream = self.stream;

                serializeStartGameStateChangeAction(stream, ZBEnum.GameStateChangeAction.SetPlayerTurnTime, player);
                stream.writeUint32(turnTime);
            }

            // SerializedCustomUi

            function init(SerializedCustomUi memory self) internal pure {
                init(self, defaultSerializedCustomUiBufferSize);
            }

            function init(SerializedCustomUi memory self, uint bufferSize) internal pure {
                self.stream = SerialityBinaryStream.BinaryStream(new bytes(bufferSize), bufferSize);
            }

            function getBytes(SerializedCustomUi memory self) internal pure returns (bytes) {
                return self.stream.buffer;
            }

            function add(SerializedCustomUi memory self, ZBGameMode.CustomUiLabel label) internal pure {
                SerialityBinaryStream.BinaryStream memory stream = self.stream;

                serializeStartCustomUiElement(stream, ZBEnum.CustomUiElement.Label, label.rect);
                stream.writeString(label.text);
            }

            function add(SerializedCustomUi memory self, ZBGameMode.CustomUiButton button) internal pure {
                SerialityBinaryStream.BinaryStream memory stream = self.stream;

                serializeStartCustomUiElement(stream, ZBEnum.CustomUiElement.Button, button.rect);
                stream.writeString(button.title);
                stream.writeBytes(button.onClickCallData);
            }

            function serializeStartCustomUiElement(SerialityBinaryStream.BinaryStream memory stream, ZBEnum.CustomUiElement element) private pure {
                stream.writeInt32(int32(element));
            }

            function serializeStartCustomUiElement(
                SerialityBinaryStream.BinaryStream memory stream,
                ZBEnum.CustomUiElement element,
                ZBGameMode.Rect rect
                ) private pure {
                serializeStartCustomUiElement(stream, element);
                serializeRect(stream, rect);
            }

            function serializeRect(SerialityBinaryStream.BinaryStream memory stream, ZBGameMode.Rect rect) private pure {
                serializeVector2Int(stream, rect.position);
                serializeVector2Int(stream, rect.size);
            }

            function serializeVector2Int(SerialityBinaryStream.BinaryStream memory stream, ZBGameMode.Vector2Int v) private pure {
                stream.writeInt32(v.x);
                stream.writeInt32(v.y);
            }
        }
    answer: |
      pragma solidity 0.4.25;

      import "./ZB/ZBGameMode.sol";

      contract ExampleGame is ZBGameMode  {

          function beforeMatchStart(bytes serializedGameState) external {

          }
      }
---

ì¢€ë¹„ ë°°í‹€ê·¸ë¼ìš´ë“œ ì»¤ìŠ¤í…€ ê²Œì„ ëª¨ë“œ ì»¨íŠ¸ë™íŠ¸ì˜ ë¼ˆëŒ€ëŠ” ì†”ë¦¬ë””í‹°ì˜ ë‹¤ë¥¸ ì—¬ëŠ ìŠ¤ë§ˆíŠ¸
ì»¨íŠ¸ë™íŠ¸ì™€ ë¹„ìŠ·í•˜ê²Œ ì‹œì‘í•˜ë„¤. ì˜¤ë¥¸ìª½ì—ì„œ ìë„¤ê°€ ë³¼ ìˆ˜ ìˆë“¯ì´ ë§ì´ë„¤.

ì²˜ìŒ ì‹ ê²½ì¨ì•¼ í•  ë¶€ë¶„ì€ `ZBGameMode.sol`ì´ë¼ëŠ” ì´ë¦„ì˜ íŒŒì¼ì„ ì„í¬íŠ¸í•˜ëŠ” ê²ƒì´ì§€.
ê·¸ ì•ˆì—ì„œëŠ” `ZBSerializer.sol` íŒŒì¼ê³¼ ëª‡ëª‡ ë‹¤ë¥¸ íŒŒì¼ë“¤ì„ ì„í¬íŠ¸í•˜ì§€.

> ì°¸ê³ : ì´ëŸ¬í•œ ë‹¤ë¥¸ íŒŒì¼ë“¤ ì¤‘ ëª‡ëª‡ì€ ê·¸ í¬ê¸°ê°€ ê½¤ë‚˜ í¬ë„¤. ê·¸ëŸ¬ë‹ˆ ìš°ë¦¬ëŠ” ì´ ë ˆìŠ¨
> ì—ì„œ ê·¸ê²ƒë“¤ì„ í¬í•¨í•˜ì§€ëŠ” ì•Šì„ ê²ƒì´ë„¤. ì „ì²´ ì†ŒìŠ¤ ì½”ë“œëŠ”
> <a href="https://github.com/loomnetwork/zb_game_mode" target=_blank>ì´ Github
> ì €ì¥ì†Œ</a>ì—ì„œ ë³¼ ìˆ˜ ìˆë„¤. í•˜ì§€ë§Œ ì´ëŸ¬í•œ íŒŒì¼ë“¤ì˜ ë‚´ìš©ì„ ì½ê±°ë‚˜ ì´í•´í•˜ëŠ” ê²ƒì—
> ëŒ€í•´ì„œ ê±±ì •í•  í•„ìš”ëŠ” ì—†ë„¤ - ìë„¤ì˜ ì»¤ìŠ¤í…€ ê²Œì„ ëª¨ë“œë¥¼ ë§Œë“¤ê¸° ìœ„í•´ ì•Œ í•„ìš”ê°€ ìˆ
> ëŠ” ê´€ë ¨ ë¶€ë¶„ë“¤ì€ ìš°ë¦¬ê°€ ì„¤ëª…í•´ë‚˜ê°ˆ ê²ƒì´ë„¤.

ìš°ë¦¬ì˜ ì»¨íŠ¸ë™íŠ¸ì¸ `ExampleGame`ê°€ `ZBGameMode`ë¥¼ ìƒì†í•˜ê¸° ë•Œë¬¸ì—, ì—¬ê¸°ì„œ ìë„¤ê°€
ë” í¸í•˜ê²Œ ì»¤ìŠ¤í…€ ê²Œì„ ëª¨ë“œë¥¼ ê°œë°œí•  ìˆ˜ ìˆë„ë¡ í•˜ê¸° ìœ„í•´ ìš°ë¦¬ê°€ ë§Œë“¤ì–´ì˜¨ ë‹¤ì–‘í•œ
ê³µí†µ ìë£Œ êµ¬ì¡°ë“¤ê³¼ í—¬í¼ ë©”ì†Œë“œë“¤ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë„¤.

ìš°ë¦¬ê°€ ì´ê±¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ ë§Œë“¤ì–´ ì¶”ìƒí™”í•´ë†¨ìœ¼ë‹ˆ, ìë„¤ê°€ ëª¨ë“  ì»¤ìŠ¤í…€ ê²Œì„ ëª¨ë“œì—
ë§¤ë²ˆ ë˜‘ê°™ì€ í…œí”Œë¦¿ ë¡œì§ì„ ë„£ì„ í•„ìš”ëŠ” ì—†ì„ ê²ƒì´ë„¤.

### "í›…(Hook)" â€” ëª¨ë“  ì»¤ìŠ¤í…€ ê²Œì„ ëª¨ë“œì˜ í•µì‹¬

ëª¨ë“  ì»¤ìŠ¤í…€ ê²Œì„ ëª¨ë“œë¥¼ ìœ„í•œ ì²« ë²ˆì§¸ ë‹¨ê³„ëŠ” ë°”ë¡œ ì ì–´ë„ í•˜ë‚˜ ì´ìƒì˜ **_í›…_**ì„
êµ¬í˜„í•˜ëŠ” ê²ƒì´ë„¤.

ê¸°ë³¸ì ìœ¼ë¡œ, í•µì‹¬ ê²Œì„ ë¡œì§ì—ì„œëŠ” ê²Œì„ì˜ íŠ¹ì • ë¶€ë¶„ì—ì„œ ìë„¤ì˜ ì»¨íŠ¸ë™íŠ¸ì— ì¡´ì¬í•˜ëŠ”
íŠ¹ì •í•œ í•¨ìˆ˜ë“¤ì„ ì°¾ì•„ í˜¸ì¶œí•  ê²ƒì´ë„¤. ìë„¤ì˜ ì½”ë“œì— ê·¸ í•¨ìˆ˜ë“¤ì´ ì¡´ì¬í•œë‹¤ë©´ ë§ì´ì§€.

ì˜ˆë¥¼ ë“¤ì–´, ë§¤ì¹˜ê°€ ì‹œì‘ë˜ê¸° ì§ì „ì—ëŠ” `beforeMatchStart` í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  ê²ƒì´ë„¤. í”Œ
ë ˆì´ì–´ë“¤ì´ ê·¸ë“¤ì˜ ì²« ì¹´ë“œë“¤ì„ ë½‘ìœ¼ë©´ ê·¸ ì¦‰ì‹œ `afterInitialDraw` í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•  ê²ƒ
ì´ê³ , ê° í”Œë ˆì´ì–´ë“¤ì˜ í„´ì´ ì‹œì‘í•  ë•ŒëŠ” `beforeTurnStart` í•¨ìˆ˜(ê³„íšì— ìˆìœ¼ë‚˜ ì•„ì§
êµ¬í˜„ ì „)ë¥¼ í˜¸ì¶œí•œë‹¤ë„¤.

ì´ëŸ¬í•œ í›…ë“¤ì€ í•´ë‹¹ ì‹œì ì— ìë„¤ê°€ "ì‚´ì§ ë“¤ì–´ê°€ì„œ" ê²Œì„ì„ ìˆ˜ì •í•  ìˆ˜ ìˆë„ë¡ í•˜ë„¤.
ê²Œì„ì´ ê³„ì†ë˜ê¸° ì „ì— ìë„¤ì˜ ì»¤ìŠ¤í…€ ê·œì¹™ë“¤ì„ ì ìš©í•˜ë„ë¡ í•˜ëŠ” ê²ƒì´ì§€.

ìš°ë¦¬ê°€ êµ¬í˜„í•  ì²« í›…ì€ `beforeMatchStart`ë¼ê³  ë¶ˆë¦¬ë„¤. ì´ë¦„ì—ì„œ ì•Œ ìˆ˜ ìˆë“¯ì´, ì´ëŠ”
ëª¨ë“  ë§¤ì¹˜ì˜ ì‹œì‘ ì „ì— ì ìš©ë˜ëŠ” í›…ì´ì§€.

í•¨ìˆ˜ì˜ ì •ì˜ë¶€ëŠ” ë‹¤ìŒê³¼ ê°™ì´ ìƒê²¼ë„¤:

```
function beforeMatchStart(bytes serializedGameState) external {
    // ê²Œì„ ìƒíƒœë¥¼ ë°”ê¿€ ë¶€ë¶„ì„ ì—¬ê¸°ì— ì •ì˜
}
```

ì´ í•¨ìˆ˜ ë‚´ì—ì„œ, ìë„¤ëŠ” í•œ ë§¤ì¹˜ì˜ ì‹œì‘ ì‹œì ì— ì ìš©í•˜ê³  ì‹¶ì€ ê²Œì„ ë¡œì§ì˜ ëª¨ë“  ì»¤ìŠ¤
í…€ ë³€ê²½ ë¶€ë¶„ë“¤ì„ ì •ì˜í•  ê²ƒì´ë„¤.

ì´ëŸ¬í•œ ë³€ê²½ë“¤ì€ ê°œë³„ ì¹´ë“œì˜ ë°¸ëŸ°ìŠ¤ ë³€ê²½, ì´ ê²Œì„ ëª¨ë“œì—ì„œ ì–´ë–¤ ì¹´ë“œê°€ í—ˆìš©/ê¸ˆì§€
ë˜ëŠ”ì§€ì— ê´€í•œ ê·œì¹™ë“¤, ê·¸ë¦¬ê³  ì˜¤ë²„ë¡œë“œ ì²´ë ¥ì´ë‚˜ Goo ìœ ë¦¬ë³‘ì˜ ì‹œì‘ ê°œìˆ˜ì˜ ë³€ê²½ ë“±
ì´ ë  ìˆ˜ ìˆë„¤.

> Zombie Battlegroundë¥¼ í”Œë ˆì´í•´ë³¸ ì ì´ ì—†ê³  ì´ ìš©ì–´ë“¤ì´ ë­˜ ì˜ë¯¸í•˜ëŠ”ì§€ ì˜ ëª¨ë¥´ê²
> ëŠ”ê°€?
> <a href="https://zombiebattleground.io/index.php/Gameplay" target=_blank>ì¢€ë¹„
> ë°°í‹€ê·¸ë¼ìš´ë“œì˜ ê²Œì„ í”Œë ˆì´ ê·œì¹™ë“¤</a>ì— ê´€í•œ ë¹ ë¥¸ ì†Œê°œë¥¼ ì½ì–´ë³´ê²Œ.

## `bytes serializedGameState`

`beforeMatchStart`ëŠ” í•˜ë‚˜ì˜ ì¸ìˆ˜ë¥¼ ë°›ë„¤ â€” `serializedGameState`ë¼ëŠ” ì´ë¦„ì˜
`bytes` ê°’ì´ì§€.

ì´ëŠ” **ê²Œì„ì˜ ëª¨ë“  í˜„ì¬ ìƒíƒœ**ì— ëŒ€í•œ ì •ë³´ë¥¼ í¬í•¨í•˜ëŠ”, í•˜ë‚˜ì˜ ê¸´ ë¬¸ìì—´ë¡œ ì••ì¶•ë˜
ì–´ ìˆëŠ” ì•Œì•„ë³´ê¸° í˜ë“  ë°”ì´íŠ¸ ì½”ë“œ ë©ì–´ë¦¬ì´ì§€ - í”Œë ˆì´ì–´ì˜ ë±ì— ë“¤ì–´ìˆëŠ” ëª¨ë“  ì¹´
ë“œë“¤, ì˜¤ë²„ë¡œë“œì˜ ì²´ë ¥ë“¤, Goo ìœ ë¦¬ë³‘ë“¤ì˜ ê°œìˆ˜ ë“±ë“±ì„ ê°€ì§€ê³  ìˆë„¤.

ì˜ˆë¥¼ ë“¤ë©´ ë‹¤ìŒê³¼ ê°™ì€ í˜•íƒœì´ë„¤:

```
// ì˜¤ì˜¤ìš°ìš° ì´ëŸ¬ì–´ì–´ì–¸......
00000000000000024765797a6572000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000060000000000000004467265657a7a6565000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000800000000000000044a65747465720000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000600000000000000044f7a6d6f7a697a00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000700000000000000045a6e6f776d616e0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000070000000000000004497a7a65000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000004000000000000000443657262657275730000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008000000000000000447617267616e7475610000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000908000000000000000244656661756c743200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080000000000000002011400000000000000025a68616d70696f6e00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080000000000000004466972652d4d6177000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000800000000000000044d6f646f0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000040000000000000004576572657a6f6d620000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000008000000000000000443796e6465726d616e00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000009000000000000000442757272726e6e00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000700000000000000045175617a69000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000500000000000000045079726f6d617a00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000708000000000000000144656661756c7431000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000800000000000000010114000000000000000005
```

ì´ ì•Œì•„ë³´ê¸° í˜ë“  ë°”ì´íŠ¸ ë°°ì—´ì„ ë°›ì€ í›„, ìš°ë¦¬ëŠ” ì´ë¥¼ ë‹¤ë£¨ê¸° ì‰¬ìš´ í˜•íƒœë¡œ ë³€í™˜í•  ê²ƒ
ì´ë„¤ - ë‹¤ìŒ ì±•í„°ë“¤ì—ì„œ ì•Œì•„ë³¼ ë‚´ìš©ì´ì§€.

ì‚¬ëŒì´ ì½ì„ ìˆ˜ ìˆëŠ” í˜•íƒœì˜ ë°ì´í„°ë¥¼ ì „ë‹¬í•˜ì§€ ì•Šê³  ì´ëŸ¬í•œ ë°©ì‹ìœ¼ë¡œ ì²˜ë¦¬í•˜ëŠ” ì´ìœ
ëŠ”, ì´ ë°©ì‹ì´ ì¢€ë¹„ ë°°í‹€ê·¸ë¼ìš´ë“œ í•µì‹¬ ê²Œì„ ì½”ë“œì™€ ì»¤ìŠ¤í…€ ê²Œì„ ìƒíƒœë¥¼ ìœ„í•œ ìŠ¤ë§ˆíŠ¸
ì»¨íŠ¸ë™íŠ¸ ê°„ì— ê±°ëŒ€í•œ ì–‘ì˜ ë°ì´í„°ë¥¼ ì£¼ê³ ë°›ê¸°ì— í›¨ì”¬ íš¨ìœ¨ì ì´ê¸° ë•Œë¬¸ì´ë„¤.

## ì§ì ‘ í•´ë³´ê¸°

1. `function` í•˜ë‚˜ë¥¼ `beforeMatchStart`ë¼ëŠ” ì´ë¦„ìœ¼ë¡œ ì •ì˜í•˜ê²Œ. ì´ í•¨ìˆ˜ëŠ” í•˜ë‚˜ì˜
   ë§¤ê°œ ë³€ìˆ˜ë¥¼ ë°›ì„ ê²ƒì´ë„¤.`bytes`í˜•ì´ê³  ì´ë¦„ì€ `serializedGameState`ì´ì–´ì•¼ í•˜ì§€
   . ë˜ ì´ í•¨ìˆ˜ëŠ” `external`ì´ì–´ì•¼ í•˜ë„¤.

2. ìš°ì„  ì§€ê¸ˆì€ í•¨ìˆ˜ì˜ ë‚´ìš©ì„ ë¹„ì›Œë‘ê²Œ - ë‹¤ìŒ ì±•í„°ì—ì„œ ì´ë¥¼ ì±„ìš¸ ê²ƒì´ë„¤.
